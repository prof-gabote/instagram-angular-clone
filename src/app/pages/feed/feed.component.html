<app-navbar></app-navbar>

<div class="container-fluid my-2" *ngIf="userData">
  <div class="row justify-content-between align-items-center my-2">
    <div class="col-4 d-flex flex-column align-items-center">
      <h5 class="fw-bold mb-2">{{ userData.username }}</h5>
      <div class="instagram-profile">
        <img [src]="userData.profilePicUrl || '/img/profile-placeholder.png'" alt="Profile Picture">
      </div>
    </div>
    <div class="col-8 d-flex flex-row pt-5">
      <div class="col d-flex flex-column align-items-center">
        <h6 class="fw-bold">{{ getPostCount() }}</h6>
        <p>Posts</p>
      </div>
      <div class="col d-flex flex-column align-items-center">
        <h6 class="fw-bold">{{ getFollowersCount() }}</h6>
        <p>Followers</p>
      </div>
      <div class="col d-flex flex-column align-items-center">
        <h6 class="fw-bold">{{ getFollowingCount() }}</h6>
        <p>Following</p>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="row">
      <div class="col">
        <h6>{{ userData.username }}</h6>
        <span class="text-body-secondary">{{ userData.title }}</span>
        <p>{{ userData.description }}</p>
      </div>
    </div>
  </div>

  <div class="container mb-2">
    <div class="row">
      <div class="d-flex gap-2">
        <a
          class="btn btn-secondary flex-fill profile-btn"
          type="button"
          aria-label="Edit profile"
          routerLink="/profile/edit"
        >Edit profile</a>
        <button class="btn btn-secondary bi bi-person-plus profile-btn" type="button" aria-label="Add Following"></button>
      </div>
    </div>
  </div>

  <!-- Componente que muestra las stories (basado en posts) -->
  <app-story-scroller></app-story-scroller>

  <!-- Componente que muestra los tabs de perfil si hay posts -->
  <app-profile-tabs *ngIf="getPostCount() > 0"></app-profile-tabs>

  <!-- Mensaje si no hay posts -->
  <div *ngIf="getPostCount() === 0" class="text-center mt-4">
    <p>No posts yet</p>
  </div>
</div>
